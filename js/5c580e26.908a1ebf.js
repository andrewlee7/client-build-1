(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5c580e26"],{"0aed":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var r=n("9ab4"),i="Invariant Violation",a=Object.setPrototypeOf,o=void 0===a?function(e,t){return e.__proto__=t,e}:a,s=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"===typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,o(r,t.prototype),r}return Object(r["c"])(t,e),t}(Error);function u(e,t){if(!e)throw new s(t)}(function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)}e.warn=t,e.error=n})(u||(u={}))}).call(this,n("4362"))},"0ff1":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={data:function(){return{statuses:[{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"},{label:"Draft",value:"DRAFT"},{label:"Pending",value:"PENDING"},{label:"Declined",value:"DECLINED"}]}}}},"40c0":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("a481");var r={methods:{delete:function(){var e=this;this.$q.dialog({title:"Are you sure you want to delete ".concat(this.title,"?"),ok:"Delete",cancel:"Cancel"}).then(function(t){e.$apollo.mutate({mutation:e.deleteMutation,variables:{id:e.itemId}}).then(function(t){e.$q.notify({message:"".concat(e.title," was deleted sucessfully"),type:"negative"});var n=e.deleteRoute||e.$route.meta.backRoute;e.$router.replace("/".concat(n))})}).catch(function(){})}}}},"67c4":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return b});var r=n("5640"),i=n.n(r),a=n("9530"),o=n.n(a);function s(){var e=i()(["\n  mutation CreateYouthOutcomeMutation(\n    $name: String!,\n    $description: String\n  ) {\n    createYouthOutcome(\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...YouthOutcomeFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  mutation UpdateYouthOutcomeMutation(\n    $id: ID!\n    $name: String!,\n    $description: String\n  ) {\n    updateYouthOutcome(\n      where: {id: $id}\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...YouthOutcomeFragment\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=i()(["\n  mutation DeleteYouthOutcomeMutation($id: ID!) {\n    deleteYouthOutcome(where: {id: $id }) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=i()(["\n  query YouthOutcomeQuery($id: ID!) {\n    youthOutcome(where: {\n      id: $id\n    }) {\n      ...YouthOutcomeFragment\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=i()(["\n  query AllYouthOutcomesQuery {\n    youthOutcomes(orderBy: name_ASC) {\n      ...YouthOutcomeFragment\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  fragment YouthOutcomeFragment on YouthOutcome {\n    id\n    name\n    description\n  }\n"]);return p=function(){return e},e}var m=o()(p()),f=o()(d(),m),g=o()(l(),m),h=o()(c()),v=o()(u(),m),b=o()(s(),m)},"794f":function(e,t,n){"use strict";var r=n("8165"),i=n.n(r);i.a},"7c7b":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return b});var r=n("5640"),i=n.n(r),a=n("9530"),o=n.n(a);function s(){var e=i()(["\n  mutation CreateResourceCategoryMutation(\n    $name: String!,\n    $description: String\n  ) {\n    createResourceCategory(\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...ResourceCategoryFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  mutation UpdateResourceCategoryMutation(\n    $id: ID!\n    $name: String!,\n    $description: String\n  ) {\n    updateResourceCategory(\n      where: {id: $id}\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...ResourceCategoryFragment\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=i()(["\n  mutation DeleteResourceCategoryMutation($id: ID!) {\n    deleteResourceCategory(where: {id: $id }) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=i()(["\n  query ResourceCategoryQuery($id: ID!) {\n    resourceCategory(where: {\n      id: $id\n    }) {\n      ...ResourceCategoryFragment\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=i()(["\n  query ResourceCategoryQuery {\n    resourceCategories(orderBy: name_ASC) {\n      ...ResourceCategoryFragment\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  fragment ResourceCategoryFragment on ResourceCategory {\n    id\n    name\n    description\n  }\n"]);return p=function(){return e},e}var m=o()(p()),f=o()(d(),m),g=o()(l(),m),h=o()(c()),v=o()(u(),m),b=o()(s(),m)},8165:function(e,t,n){},"858b":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("b0d5"),i={methods:{formatDuration:function(e){if(!e)return"Unknown Duration";var t=Math.floor(e/60),n=e%60,r=[];return t&&r.push(t+" hours"),n&&r.push(n+" mins"),r.join(", ")},formatAgeRange:function(e,t){if(!e)return"All Ages";var n="Age "+e+" ";return n+=t?"to "+t:"and up",n},formatGradeRange:function(e,t){if(0===e&&(e="K"),0===t&&(t="K"),void 0===e||null===e)return"All Grades";var n="Grades "+e+" ";return n+=t?"- "+t:"and up",n},categoryList:function(e){return e.categories.map(function(e){return e.category}).join(", ")},limit:function(e,t){return e?e.length>t?e.substr(0,t-1)+"&hellip;":e:""},extendListResults:function(e){var t=e.map(function(e){var t=Object(r["a"])(!1,{},e);return delete t["__typename"],t});return t},contentSections:function(e){return[{title:"Learning Objectives",list:e.objectives,subtitle:"Students will:",key:"objectives"},{title:"Materials",list:e.materials,key:"materials"},{title:"Worksheets and Files",list:e.worksheets,files:!0,key:"worksheets"},{title:"Multimedia",list:e.multimedia,files:!0,key:"multimedia"},{title:"Preparation",list:e.preparation,key:"preparation"},{title:"Activity Steps",list:e.steps,numbers:!0,key:"steps"},{title:"Classroom Example",list:e.examples,numbers:!0,key:"examples"},{title:"Versions",list:e.versions,number:!0,key:"versions"},{title:"Variations",list:e.variations,numbers:!0,key:"variations"}]},humanType:function(e){return e?{COURSE:"Playlist",ACTIVITY:"Activity",LESSON:"Module"}[e]:"Resource"}}}},"8f41":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[e.found?e._e():n("notFound",{attrs:{type:"Resource"}}),e.found?n("scroll",{staticStyle:{background:"#fff"}},[n("div",{staticClass:"q-pa-lg"},[n("q-field",{class:e.margin,attrs:{label:"Content Type",helper:"required",error:e.$v.resource.type.$error,"error-label":"Content Type Required"}},[n("q-select",{staticStyle:{width:"100px"},attrs:{options:e.resourceTypes},on:{blur:e.$v.resource.type.$touch},model:{value:e.resource.type,callback:function(t){e.$set(e.resource,"type",t)},expression:"resource.type"}})],1),e.isPublisher?e._e():[n("div",{staticClass:"q-mt-sm q-mb-sm"},[n("q-checkbox",{attrs:{label:"Featured"},model:{value:e.resource.featured,callback:function(t){e.$set(e.resource,"featured",t)},expression:"resource.featured"}})],1),e.resource.featured?n("div",{staticClass:"q-mt-sm q-mb-sm"},[n("q-checkbox",{attrs:{label:"Force this lesson to always show up on the home page in the featured slot"},model:{value:e.resource.forceFeatured,callback:function(t){e.$set(e.resource,"forceFeatured",t)},expression:"resource.forceFeatured"}})],1):e._e(),n("div",{staticClass:"q-mt-sm q-mb-sm"},[n("q-checkbox",{attrs:{label:"Headliner (will appear first for it's category in resource browser)"},model:{value:e.resource.headliner,callback:function(t){e.$set(e.resource,"headliner",t)},expression:"resource.headliner"}})],1),n("q-field",{staticClass:"q-mb-md",attrs:{label:"Organization",helper:"Organization"}},[n("q-select",{attrs:{options:e.organizations},model:{value:e.resource.orgId,callback:function(t){e.$set(e.resource,"orgId",t)},expression:"resource.orgId"}})],1),n("q-field",{staticClass:"q-mb-md",attrs:{label:"Status",helper:"Publish Status"}},[n("q-select",{attrs:{options:e.statuses},model:{value:e.resource.status,callback:function(t){e.$set(e.resource,"status",t)},expression:"resource.status"}})],1)],n("q-field",{class:e.margin,attrs:{label:"Category",error:e.$v.resource.resourceCategory.$error,"error-label":"Required"}},[n("q-select",{attrs:{"float-label":"Category",options:e.resourceCategories},on:{blur:e.$v.resource.resourceCategory.$touch},model:{value:e.resource.resourceCategory,callback:function(t){e.$set(e.resource,"resourceCategory",t)},expression:"resource.resourceCategory"}})],1),n("q-field",{class:e.margin,attrs:{label:"Tags"}},[n("q-select",{attrs:{multiple:"",chips:"","float-label":"Tags",options:e.categories},model:{value:e.resource.categories,callback:function(t){e.$set(e.resource,"categories",t)},expression:"resource.categories"}})],1),n("q-field",{class:e.margin,attrs:{label:"Learning Standards"}},[n("q-select",{attrs:{multiple:"",chips:"","float-label":"Learning Standards",options:e.contentStandards},model:{value:e.resource.contentStandards,callback:function(t){e.$set(e.resource,"contentStandards",t)},expression:"resource.contentStandards"}})],1),n("q-field",{class:e.margin,attrs:{label:"Youth Outcomes"}},[e.resource.youthOutcomes?n("q-select",{attrs:{multiple:"",chips:"","float-label":"Youth Outcomes",options:e.youthOutcomes},model:{value:e.resource.youthOutcomes,callback:function(t){e.$set(e.resource,"youthOutcomes",t)},expression:"resource.youthOutcomes"}}):e._e()],1),e.isPublisher?e._e():n("q-field",{class:e.margin,attrs:{label:"Related ProTips"}},[n("q-select",{attrs:{multiple:"",chips:"","float-label":"Related Protips",options:e.proTips},model:{value:e.resource.relatedProTips,callback:function(t){e.$set(e.resource,"relatedProTips",t)},expression:"resource.relatedProTips"}})],1),"ACTIVITY"!==e.resource.type?n("q-field",{class:e.margin,attrs:{label:"Activities"}},[n("q-select",{attrs:{multiple:"",chips:"",options:e.resourceOptions},model:{value:e.resource.children,callback:function(t){e.$set(e.resource,"children",t)},expression:"resource.children"}})],1):e._e(),e.isPublisher?e._e():n("q-field",{class:e.margin,attrs:{label:"Order"}},[n("q-input",{attrs:{type:"number"},model:{value:e.resource.number,callback:function(t){e.$set(e.resource,"number",t)},expression:"resource.number"}})],1),n("q-field",{class:e.margin,attrs:{label:"Title",helper:"required",error:e.$v.resource.title.$error,"error-label":"Please enter a title"}},[n("q-input",{ref:"title",attrs:{type:"text"},on:{blur:e.$v.resource.title.$touch},model:{value:e.resource.title,callback:function(t){e.$set(e.resource,"title","string"===typeof t?t.trim():t)},expression:"resource.title"}})],1),n("q-field",{class:e.margin,attrs:{label:"Subtitle"}},[n("q-input",{attrs:{type:"text"},model:{value:e.resource.subtitle,callback:function(t){e.$set(e.resource,"subtitle","string"===typeof t?t.trim():t)},expression:"resource.subtitle"}})],1),n("aws-upload",{class:e.margin,attrs:{label:"Image","asset-title":e.resource.title,asset:e.resource.image},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),n("q-field",{class:e.margin,attrs:{label:"Duration in Minutes"}},[n("q-input",{attrs:{type:"number"},model:{value:e.resource.duration,callback:function(t){e.$set(e.resource,"duration",t)},expression:"resource.duration"}})],1),n("q-field",{class:e.margin,attrs:{label:"Introduction",error:e.$v.resource.introduction.$error,"error-label":"Please enter an introduction",helper:"required"}},[n("q-editor",{on:{blur:e.$v.resource.introduction.$touch},model:{value:e.resource.introduction,callback:function(t){e.$set(e.resource,"introduction",t)},expression:"resource.introduction"}})],1),n("q-field",{class:e.margin,attrs:{label:"Age Range"}},[n("q-range",{attrs:{min:1,max:18,step:1,label:"","label-always":""},on:{input:function(t){e.resource.ageFrom=e.ageRange.min,e.resource.ageTo=e.ageRange.max}},model:{value:e.ageRange,callback:function(t){e.ageRange=t},expression:"ageRange"}})],1),n("q-field",{class:e.margin,attrs:{label:"Grade Range"}},[n("q-range",{attrs:{min:0,max:12,step:1,"label-always":"","left-label-value":e.formattedMinGrade,"right-label-value":e.formattedMaxGrade},on:{input:function(t){e.resource.gradeFrom=e.gradeRange.min,e.resource.gradeTo=e.gradeRange.max}},model:{value:e.gradeRange,callback:function(t){e.gradeRange=t},expression:"gradeRange"}})],1)],2),n("q-card-separator"),e._l(e.contentSections(e.resource),function(t){return n("div",{key:t.title},[n("content-list-input",{attrs:{numbers:t.numbers,title:t.title,files:t.files},model:{value:t.list,callback:function(n){e.$set(t,"list",n)},expression:"section.list"}})],1)})],2):e._e()],1)},i=[];r._withStripped=!0;n("ac6a"),n("a481"),n("7f7f");var a=n("3156"),o=n.n(a),s=n("b5ae"),u=n("de9e"),c=n("bf49"),l=n("67c4"),d=n("398a"),p=n("ed6f"),m=n("7c7b"),f=n("e8b8"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-list",{key:"resource-list-"+e.refresher,attrs:{multiline:"",separator:""}},[n("q-list-header",{staticClass:"q-body-2"},[e._v(e._s(e.title))]),e._l(e.value,function(t,r){return n("q-item",{key:t.id},[n("q-item-side",[n("q-input",{attrs:{type:"number","stack-label":"#"},model:{value:t.number,callback:function(n){e.$set(t,"number",n)},expression:"item.number"}})],1),n("q-item-main",[n("rich-editor",{attrs:{label:"Description"},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}}),t.files&&t.files.length?n("q-list",{attrs:{separator:"",multiline:""}},e._l(t.files,function(r,i){return n("q-item",{key:r.id},[r.secret||r.newAsset?[n("q-item-side",{staticStyle:{width:"50%"}},[n("q-input",{class:e.margin,attrs:{type:"textarea","stack-label":"Title"},model:{value:r.title,callback:function(t){e.$set(r,"title",t)},expression:"file.title"}}),n("q-item-tile",[e._v("\n                  "+e._s(r.contentType)+"\n                ")])],1),n("q-item-main",[n("aws-upload",{class:e.margin,attrs:{"asset-title":r.title,asset:r,extensions:".gif,.jpg,.jpeg,.png,.txt,.pdf,.mp3,.avi,.flv,.wmv,.mov,.mp4,.doc","show-link":""},model:{value:r.newAsset,callback:function(t){e.$set(r,"newAsset",t)},expression:"file.newAsset"}})],1),n("q-item-side",{staticClass:"cursor-pointer",attrs:{right:"",icon:"delete"},nativeOn:{click:function(n){e.deleteFile(t.files,i)}}})]:[n("q-item-side",{staticStyle:{width:"50%"}},[n("q-input",{class:e.margin,attrs:{type:"textarea","stack-label":"Title"},model:{value:r.title,callback:function(t){e.$set(r,"title",t)},expression:"file.title"}})],1),n("q-item-main",[n("q-input",{class:e.margin,attrs:{"stack-label":"Url"},model:{value:r.url,callback:function(t){e.$set(r,"url",t)},expression:"file.url"}})],1),n("q-item-side",{staticClass:"cursor-pointer",attrs:{right:"",icon:"delete"},nativeOn:{click:function(n){e.deleteFile(t.files,i)}}})]],2)})):e._e(),n("q-btn",{staticClass:"q-mr-md",attrs:{size:"md","icon-right":"fas fa-plus-circle",label:"Upload A File",outline:""},on:{click:function(t){e.addFile(r)}}}),n("q-btn",{attrs:{size:"md","icon-right":"fas fa-plus-circle",label:"Embed A Link",outline:""},on:{click:function(t){e.addLink(r)}}})],1),n("q-item-side",{staticClass:"cursor-pointer q-py-md",attrs:{right:"",icon:"fa fa-trash"},nativeOn:{click:function(t){e.deleteItem(r)}}})],1)}),n("q-btn",{attrs:{size:"md",icon:"add",flat:"",label:"Add List Item"},on:{click:function(t){e.addItem()}}})],2)},h=[];g._withStripped=!0;var v=n("5012"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-field",{attrs:{label:e.label,orientation:"vertical"}},[n("span",{staticStyle:{"font-weight":"normal"}},[n("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline","subscript","superscript"],["hr","link"],[{label:e.$q.i18n.editor.formatting,icon:e.$q.icon.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.i18n.editor.fontSize,icon:e.$q.icon.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.i18n.editor.defaultFont,icon:e.$q.icon.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],[{label:e.$q.i18n.editor.align,icon:e.$q.icon.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},on:{input:function(t){e.$emit("input",e.text)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)])},y=[];b._withStripped=!0;var $={name:"richEditor",props:{value:String,label:String},data:function(){return{text:this.value}}},C=$,q=n("2877"),S=Object(q["a"])(C,b,y,!1,null,null,null);S.options.__file="richEditor.vue";var I=S.exports,w={name:"ContentListInput",components:{awsUpload:v["a"],richEditor:I},props:{value:Array,number:Boolean,files:Boolean,title:String},data:function(){return{margin:"q-mb-md",test:[],refresher:0}},methods:{addItem:function(){var e=Math.max.apply(null,this.value.map(function(e){return e.number?parseInt(e.number):0}))+1;e<1&&(e=1),this.value.push({number:e,title:"",description:"",files:[]})},deleteItem:function(e){var t=this;this.confirmDelete("Remove ".concat(this.title," Item?"),function(){t.refresher+=1,t.value.splice(e,1)})},addFile:function(e){this.value[e].files.push({title:"",newAsset:[]})},addLink:function(e){this.value[e].files.push({title:"",url:""})},deleteFile:function(e,t){this.confirmDelete("Remove ".concat(this.title," File?"),function(){e.splice(t,1)})},confirmDelete:function(e,t){this.$q.actionSheet({title:e,actions:[{label:"Remove",color:"primary",icon:"fas fa-trash",handler:function(){t()}}]}).then(function(e){}).catch(function(){})}}},k=w,x=(n("794f"),Object(q["a"])(k,g,h,!1,null,"4e7b4829",null));x.options.__file="contentListInput.vue";var F=x.exports,T=n("858b"),O=n("0ff1"),P=n("40c0"),A=n("f1c6"),_=n("3280"),R=n("2f62"),D=n("d67a"),M=n("2743"),E={name:"ResourceEdit",mixins:[M["a"],T["a"],_["a"],P["a"],O["a"]],components:{notFound:f["a"],ContentListInput:F,awsUpload:v["a"]},data:function(){return{proTips:[],categories:[],contentStandards:[],organizations:[],resourceCategories:[],youthOutcomes:[],resourceTypes:[{label:"",value:""},{label:"Playlist",value:"COURSE"},{label:"Module",value:"LESSON"},{label:"Activity",value:"ACTIVITY"}],found:!0,ageRange:{min:1,max:18},gradeRange:{min:0,max:12},resource:{type:"",title:"",subtitle:"",introduction:"",children:[],categories:[],contentStandards:[],objectives:[],materials:[],preparation:[],steps:[],examples:[],versions:[],variations:[],worksheets:[],multimedia:[],relatedProTips:[],youthOutcomes:[],resourceCategory:null,gradeFrom:0,gradeTo:12,ageFrom:1,ageTo:18},resourceOptions:[],margin:"q-mb-md",image:[],deleteMutation:u["h"]}},validations:{resource:{type:{required:s["required"]},title:{required:s["required"]},introduction:{required:s["required"]},resourceCategory:{required:s["required"]}}},created:function(){this.updateActions()},updated:function(){this.updateActions()},mounted:function(){this.currentFilter&&this.isNew&&(this.resource.type=this.currentFilter)},beforeDestroy:function(){this.pageMeta(),this.pageStatus()},computed:o()({isPublisher:function(){return"new-org-resource"===this.$route.name||"org-resource"===this.$route.name},formattedMinGrade:function(){return 0===this.resource.gradeFrom?"K":"".concat(this.resource.gradeFrom)},formattedMaxGrade:function(){return 0===this.resource.gradeTo?"K":"".concat(this.resource.gradeTo)},title:function(){return this.humanType(this.resource.type)},canNotSave:function(){return this.$v.$invalid||this.saving},isNew:function(){return"new_resource"===this.$route.name||"new-org-resource"===this.$route.name},itemId:function(){return this.resource.id}},Object(R["c"])("app",["currentFilter"])),watch:{"resource.title":function(){this.updateHeader()},"resource.type":function(){this.updateHeader()},canNotSave:function(){this.updateActions()},isNew:function(){this.updateActions()}},methods:o()({updateHeader:function(){this.pageMeta({title:"Edit ".concat(this.humanType(this.resource.type)),subtitle:this.resource.title})},updateActions:function(){this.isPublisher&&this.resource&&("DRAFT"===this.resource.status||"DECLINED"===this.resource.status)?this.headerActions([{icon:"fa fa-check",handler:this.save,label:"Save",disabled:this.canNotSave},{icon:"fa fa-share",handler:this.submit,label:"Submit",disabled:this.canNotSave},{icon:"delete",handler:this.delete}]):this.headerActions([{icon:"fa fa-check",handler:this.save,label:"Save",disabled:this.canNotSave},{icon:"delete",handler:this.delete}])},submit:function(){var e=this;this.$q.dialog({title:"Are you sure you want to submit this resource for review?",ok:"Submit",cancel:"Cancel"}).then(function(t){e.actuallySave(!0)}).catch(function(){})},save:function(){this.actuallySave()},actuallySave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$v.$touch(),!this.canNotSave){this.saving=!0;var n,r=this.isNew?"Resource Created":"Resource Updated";if(this.filesAvailable())this.triggerUploads();else this.image.length&&(this.resource.newImage=this.image.pop()),this.resource.orgId&&(this.resource.organization={connect:{id:this.resource.orgId}}),t?(n=u["n"],r="Resource Submitted"):n=this.isPublisher?this.isNew?u["m"]:u["o"]:this.isNew?u["f"]:u["w"],this.resource.featured||(this.resource.forceFeatured=!1),this.$apollo.mutate({mutation:n,variables:this.resource}).then(function(t){e.saving=!1,e.$q.notify({message:"Resource sucessfully saved.",type:"positive"}),e.isPublisher&&e.isNew?e.$router.replace("/org-resources/"+t.data.publisherCreateResource.id):e.isNew&&e.$router.replace("/resources/"+t.data.createResource.id)}),this.$ma.trackEvent({action:r,properties:o()({},this.resource,D["a"].getters.userForMixpanel)})}}},Object(R["b"])({pageMeta:"app/setPageMeta",headerActions:"app/setHeaderActions",pageStatus:"app/setPageStatus"})),apollo:{youthOutcomes:{query:l["a"],update:function(e){return e.youthOutcomes.map(function(e){return{label:e.name,value:e.id}})}},resourceCategories:{query:m["a"],update:function(e){return e.resourceCategories.map(function(e){return{label:e.name,value:e.id}})}},categories:{query:u["d"],update:function(e){return e.categories.map(function(e){return{label:e.category,value:e.category}})}},contentStandards:{query:c["a"],update:function(e){return e.contentStandards.map(function(e){return{label:e.name,value:e.id}})}},resource:{query:u["r"],variables:function(){return{id:this.$route.params.id}},skip:function(){return!this.$route.params.id},update:function(e){e.resource||(this.found=!1);var t=Object(A["a"])(u["r"],e).resource;!this.isAdmin&&this.isPublisher&&"DRAFT"!==t.status&&"DECLINED"!==t.status&&this.$router.push("/org-resources/".concat(t.id,"/show")),e.resource.type,t.children=e.resource.activities.map(function(e){return e.id}),t.categories=e.resource.categories.map(function(e){return e.category}),t.contentStandards=e.resource.contentStandards.map(function(e){return e.id}),this.contentSections(t).forEach(function(e){e.list&&e.list.forEach(function(e){e.files.forEach(function(e){e.secret&&(e.newAsset=[])})})}),null===t.featured&&(t.featured=!1),null===t.forceFeatured&&(t.forceFeatured=!1),null===t.headliner&&(t.headliner=!1),null===t.inactive&&(t.inactive=!1),t.inactive&&(t.status="INACTIVE"),t.inactive=!1,t.organization&&(t.orgId=t.organization.id),t.resourceCategory&&(t.resourceCategory=t.resourceCategory.id),this.ageRange={min:t.ageFrom,max:t.ageTo},this.gradeRange={min:t.gradeFrom,max:t.gradeTo},t.relatedProTips=t.relatedProTips.map(function(e){return e.id}),t.youthOutcomes=t.youthOutcomes.map(function(e){return e.id});var n=t.status.toLowerCase();return n=n.charAt(0).toUpperCase()+n.slice(1),this.pageStatus("Status: ".concat(n)),this.saving=!1,t}},resources:{query:u["t"],variables:function(){return{type:"ACTIVITY"}},skip:function(){return!this.resource.type||"ACTIVITY"===this.resource.type},update:function(e){e.resources&&(this.resourceOptions=e.resources.map(function(e){return{label:e.title,value:e.id}}))}},organizations:{query:d["f"],variables:{types:["Publisher"]},skip:function(){return this.isPublisher},update:function(e){return e.organizations.map(function(e){return{label:e.name,value:e.id}})}},proTips:{query:p["b"],skip:function(){return this.isPublisher},fetchPolicy:"cache-and-network",update:function(e){return e.proTips.map(function(e){return{label:e.title,value:e.id}})}}}},j=E,z=Object(q["a"])(j,r,i,!1,null,null,null);z.options.__file="ResourceEdit.vue";t["default"]=z.exports},bf49:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"c",function(){return b});var r=n("5640"),i=n.n(r),a=n("9530"),o=n.n(a);function s(){var e=i()(["\n  mutation CreateContentStandardMutation(\n    $name: String!,\n    $description: String\n  ) {\n    createContentStandard(\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...ContentStandardFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  mutation UpdateContentStandardMutation(\n    $id: ID!\n    $name: String!,\n    $description: String\n  ) {\n    updateContentStandard(\n      where: {id: $id}\n      data: {\n        name: $name,\n        description: $description\n      }\n    )\n    {\n      ...ContentStandardFragment\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=i()(["\n  mutation DeleteContentStandardMutation($id: ID!) {\n    deleteContentStandard(where: {id: $id }) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=i()(["\n  query ContentStandardQuery($id: ID!) {\n    contentStandard(where: {\n      id: $id\n    }) {\n      ...ContentStandardFragment\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=i()(["\n  query ContentStandardQuery {\n    contentStandards(orderBy: name_ASC) {\n      ...ContentStandardFragment\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  fragment ContentStandardFragment on ContentStandard {\n    id\n    name\n    description\n  }\n"]);return p=function(){return e},e}var m=o()(p()),f=o()(d(),m),g=o()(l(),m),h=o()(c()),v=o()(u(),m),b=o()(s(),m)},e8b8:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{"enter-active-class":"animated fadeIn",appear:""}},[n("q-alert",{staticClass:"q-mb-sm",attrs:{color:"negative",icon:"error",appear:""}},[e._v("\n    "+e._s(e.type)+" not found\n  ")])],1)},i=[];r._withStripped=!0;var a={name:"notFound",props:["type"]},o=a,s=n("2877"),u=Object(s["a"])(o,r,i,!1,null,null,null);u.options.__file="notFound.vue";t["a"]=u.exports},ed6f:function(e,t,n){"use strict";n.d(t,"b",function(){return C}),n.d(t,"e",function(){return q}),n.d(t,"a",function(){return S}),n.d(t,"f",function(){return w}),n.d(t,"j",function(){return k}),n.d(t,"d",function(){return x}),n.d(t,"k",function(){return F}),n.d(t,"i",function(){return T}),n.d(t,"h",function(){return O}),n.d(t,"c",function(){return P}),n.d(t,"g",function(){return A});var r=n("5640"),i=n.n(r),a=n("9530"),o=n.n(a),s=n("de9e");function u(){var e=i()(["\n  mutation PublisherCreateProTipMutation(\n    $title: String!,\n    $summary: String,\n    $text: String!,\n    $newImage: FileCreateOneInput!\n    $files: [ContentItemFileInput]\n    $protipCategory: ProTipCategoryCreateOneWithoutProtipsInput\n  ) {\n    publisherCreateProTip(\n      data: {\n        title: $title,\n        summary: $summary,\n        text: $text,\n        image: $newImage,\n        files: $files\n        protipCategory: $protipCategory\n      }\n    )\n    {\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=i()(["\n  mutation CreateProTipMutation(\n    $status: PublishStatus,\n    $title: String!,\n    $summary: String,\n    $text: String!,\n    $newImage: FileCreateOneInput!\n    $related: [ID!]\n    $files: [ContentItemFileInput]\n    $inactive: Boolean\n    $organization: OrganizationCreateOneInput\n    $protipCategory: ProTipCategoryCreateOneWithoutProtipsInput\n  ) {\n    createProTip(\n      data: {\n        status: $status,\n        title: $title,\n        summary: $summary,\n        text: $text,\n        image: $newImage,\n        related: $related\n        files: $files\n        inactive: $inactive\n        organization: $organization\n        protipCategory: $protipCategory\n      }\n    )\n    {\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function l(){var e=i()(["\n  mutation PublisherSubmitProTipMutation(\n    $id: ID!\n    $title: String,\n    $summary: String,\n    $text: String,\n    $newImage: FileUpdateOneRequiredInput,\n    $files: [ContentItemFileInput]\n    $protipCategory: ProTipCategoryUpdateOneWithoutProtipsInput\n  ) {\n    publisherSubmitProTip(\n      where: {id: $id}\n      data: {\n        title: $title,\n        text: $text,\n        summary: $summary,\n        image: $newImage,\n        files: $files,\n        protipCategory: $protipCategory\n      }\n    )\n    {\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=i()(["\n  mutation PublisherUpdateProTipMutation(\n    $id: ID!\n    $title: String,\n    $summary: String,\n    $text: String,\n    $newImage: FileUpdateOneRequiredInput,\n    $files: [ContentItemFileInput]\n    $protipCategory: ProTipCategoryUpdateOneWithoutProtipsInput\n  ) {\n    publisherUpdateProTip(\n      where: {id: $id}\n      data: {\n        title: $title,\n        text: $text,\n        summary: $summary,\n        image: $newImage,\n        files: $files,\n        protipCategory: $protipCategory\n      }\n    )\n    {\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  mutation UpdateProTipMutation(\n    $id: ID!\n    $status: PublishStatus\n    $title: String,\n    $summary: String,\n    $text: String,\n    $newImage: FileUpdateOneRequiredInput,\n    $related: [ID!]\n    $files: [ContentItemFileInput]\n    $inactive: Boolean\n    $organization: OrganizationUpdateOneInput\n    $protipCategory: ProTipCategoryUpdateOneWithoutProtipsInput\n  ) {\n    updateProTip(\n      where: {id: $id}\n      data: {\n        status: $status,\n        title: $title,\n        text: $text,\n        summary: $summary,\n        image: $newImage,\n        related: $related,\n        files: $files,\n        inactive: $inactive\n        organization: $organization\n        protipCategory: $protipCategory\n      }\n    )\n    {\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function m(){var e=i()(["\n  mutation DeleteProTipMutation($id: ID!) {\n    deleteProTip(where: {id: $id }) {\n      id\n    }\n  }\n"]);return m=function(){return e},e}function f(){var e=i()(["\n  query TipOfTheDayQuery {\n    tipOfTheDay{\n      ...ProTipFragment\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function g(){var e=i()(["\n  query ProTipQuery($id: ID!) {\n    proTip(where: {\n      id: $id\n    }) {\n      ...ProTipFragment\n      files {\n        ...FileFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function h(){var e=i()(["\n  fragment ProTipFragment on ProTip {\n    id,\n    title,\n    summary,\n    text,\n    createdAt,\n    status,\n    image {\n      ...FileFragment\n    }\n    files {\n      ...FileFragment\n    }\n    related {\n      id\n      title\n      image {\n        ...FileFragment\n      }\n    }\n    inactive\n    organization {\n      id\n      name\n      logo {\n        ...FileFragment\n      }\n    }\n    protipCategory {\n      id\n      name\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=i()(["\n  query ProTipsQuery {\n    proTips(\n      orderBy: createdAt_DESC\n      where: {\n        status: ACTIVE\n        OR: [\n          {inactive: false},\n          {inactive: null}\n        ]\n      }\n    ) {\n      id\n      title\n      summary\n      text\n      createdAt\n      inactive\n      image {\n        ...FileFragment\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function b(){var e=i()(["\n  query ProTipsQuery($orgId: ID!) {\n    proTips(\n      orderBy: createdAt_DESC\n      where: {\n        organization: {\n          id: $orgId\n        }\n      }\n    ) {\n      id\n      title\n      status\n      summary\n      text\n      createdAt\n      inactive\n      image {\n        ...FileFragment\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=i()(["\n  query FilteredProtipsQuery($filter: ProTipWhereInput, $first: Int, $after: String, $skip: Int) {\n    proTips(\n      orderBy: title_ASC\n      first: $first\n      after: $after\n      where: $filter\n      skip: $skip\n    ) {\n      id\n      title\n      status\n      summary\n      text\n      createdAt\n      inactive\n      image {\n        ...FileFragment\n      }\n      organization {\n        id\n        name\n      }\n      protipCategory {\n        id\n        name\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function $(){var e=i()(["\n  query ProTipsQuery {\n    proTips(orderBy: createdAt_DESC) {\n      id\n      title\n      status\n      summary\n      text\n      createdAt\n      inactive\n      image {\n        ...FileFragment\n      }\n    }\n  }\n  ","\n"]);return $=function(){return e},e}var C=o()($(),s["k"]),q=o()(y(),s["k"]),S=(o()(b(),s["k"]),o()(v(),s["k"])),I=o()(h(),s["k"]),w=o()(g(),I,s["k"]),k=o()(f(),I),x=o()(m()),F=o()(p(),I),T=o()(d(),I),O=o()(l(),I),P=o()(c(),I),A=o()(u(),I)},f1c6:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("4518");n("0aed");function i(e,t,n,i,o,s){void 0===o&&(o={}),void 0===s&&(s={});var u=Object(r["m"])(t),c=Object(r["j"])(t),l=Object(r["g"])(c),d=s.resultMapper,p=s.fragmentMatcher||function(){return!0},m={fragmentMap:l,contextValue:i,variableValues:o,resultMapper:d,resolver:e,fragmentMatcher:p};return a(u.selectionSet,n,m)}function a(e,t,n){var i=n.fragmentMap,s=n.contextValue,u=n.variableValues,l={};return e.selections.forEach(function(e){if(!u||Object(r["G"])(e,u))if(Object(r["u"])(e)){var d=o(e,t,n),p=Object(r["F"])(e);void 0!==d&&(void 0===l[p]?l[p]=d:c(l[p],d))}else{var m=void 0;if(Object(r["w"])(e))m=e;else if(m=i[e.name.value],!m)throw new Error("No fragment named "+e.name.value);var f=m.typeCondition.name.value;if(n.fragmentMatcher(t,f,s)){var g=a(m.selectionSet,t,n);c(l,g)}}}),n.resultMapper?n.resultMapper(l,t):l}function o(e,t,n){var i=n.variableValues,o=n.contextValue,u=n.resolver,c=e.name.value,l=Object(r["b"])(e,i),d={isLeaf:!e.selectionSet,resultKey:Object(r["F"])(e),directives:Object(r["i"])(e,i),field:e},p=u(c,t,l,o,d);return e.selectionSet?null==p?p:Array.isArray(p)?s(e,p,n):a(e.selectionSet,p,n):p}function s(e,t,n){return t.map(function(t){return null===t?null:Array.isArray(t)?s(e,t,n):a(e.selectionSet,t,n)})}var u=Object.prototype.hasOwnProperty;function c(e,t){null!==t&&"object"===typeof t&&Object.keys(t).forEach(function(n){var r=t[n];u.call(e,n)?c(e[n],r):e[n]=r})}Object.prototype.hasOwnProperty;function l(e,t,n){void 0===n&&(n={});var r=function(e,t,n,r,i){return t[i.resultKey]};return Array.isArray(t)?t.map(function(t){return i(r,e,t,null,n)}):i(r,e,t,null,n)}function d(e){this.message=e,this.stack=""}d.prototype=Error.prototype}}]);