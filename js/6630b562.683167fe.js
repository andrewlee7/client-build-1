(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6630b562"],{"0a1f":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var s=r("1528"),i=s["a"].getScrollPosition,n=s["a"].setScrollPosition,o={mounted:function(){this.handleScroll()},methods:{saveScroll:function(e){var t=document.getElementById("scroll-section").children[0],r=i(t);this.$q.sessionStorage.set("curricula-browse-scroll",r,{expires:1})},handleScroll:function(){var e=this,t=this.$q.sessionStorage.get.item("curricula-browse-scroll");if(t&&t>0)var r=document.getElementById("scroll-section").children[0],s=function(){0===i(r)?setTimeout(n(r,t,500),1e3):(clearInterval(o),e.$q.sessionStorage.remove("curricula-browse-scroll"))},o=setInterval(s,200)}}}},4673:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",[r("scroll",{directives:[{name:"show",rawName:"v-show",value:!e.$apollo.queries.resources.loading||e.loaded,expression:"!$apollo.queries.resources.loading || loaded"}],attrs:{id:"scroll-section"}},[r("q-infinite-scroll",{ref:"scroller",attrs:{handler:e.loadMore}},[e.resources&&e.resources.length?[r("resource-grid",{staticClass:"q-mt-sm q-ml-sm",attrs:{resources:e.resources}}),r("q-spinner-dots",{staticClass:"full-width",attrs:{slot:"message",size:10},slot:"message"})]:r("div",{staticClass:"q-pa-md text-faded",staticStyle:{"text-align":"center"}},[r("q-icon",{staticStyle:{opacity:"0.17",display:"block",margin:"40px auto 24px"},attrs:{name:"fa fa-book",size:"64px",color:"primary"}}),e._v("\n        No results matched your search\n      ")],1)],2)],1),e.$q.platform.is.cordova?r("q-layout-footer",[r("div",{staticClass:"content-footer justify-center footer-buttons",attrs:{inverted:"",color:"white"}},[r("q-btn-group",{attrs:{flat:""}},[r("q-btn",{attrs:{flat:"",icon:"fas fa-star",label:"Browse",color:"grey-9"},on:{click:function(t){e.$router.push("/curricula")}}}),r("q-btn",{attrs:{flat:"",icon:"fas fa-heart",label:"Bookmarked",color:"bookmark"===e.$route.params.type?"primary":"grey-9"},on:{click:function(t){e.$router.push("/curricula/filtered/bookmark")}}}),r("q-btn",{attrs:{flat:"",icon:"fas fa-clipboard-list",label:"Scheduled",disabled:"ACTIVITY"!==e.currentFilter,color:"schedule"===e.$route.params.type?"primary":"grey-9"},on:{click:function(t){e.$router.push("/curricula/filtered/schedule")}}}),r("q-btn",{attrs:{flat:"",icon:"fas fa-search",label:"Search",color:"search"===e.$route.params.type?"primary":"grey-9"},on:{click:function(t){e.$router.push("/curricula/search")}}})],1)],1)]):e._e()],1)},i=[];s._withStripped=!0;r("6762"),r("2fdb");var n=r("3156"),o=r.n(n),a=r("de9e"),l=r("f6ed"),c=r("858b"),u=r("2bb2"),h=r("2f62"),d=r("0a1f"),f=r("f760"),g={name:"ResourceFilteredList",mixins:[c["a"],l["a"],u["a"],d["a"]],components:{ResourceGrid:f["a"]},beforeDestroy:function(){this.pageMeta()},data:function(){return{loaded:!1,allPagesLoaded:!1,after:null,done:null,resources:[],featuredResources:[],recentResources:[]}},mounted:function(){var e="Bookmarked";"schedule"===this.$route.params.type&&(e="Scheduled"),"search"===this.$route.params.type&&(e="Search Results"),this.pageMeta({title:"Content",subtitle:e})},computed:{currentFilter:{get:function(){return this.$store.state.app.currentFilter},set:function(e){this.$store.commit("app/setFilter",e)}}},methods:o()({},Object(h["b"])({pageMeta:"app/setPageMeta"}),{loadMore:function(e,t){(this.allPagesLoaded||!this.loaded||this.resources.length<20)&&t(this.allPagesLoaded),this.done=t,this.resources[this.resources.length-1]&&(this.after=this.resources[this.resources.length-1].id)}}),watch:{currentFilter:function(){this.resources=[],this.after=null,this.allPagesLoaded=!1}},apollo:{resources:{query:a["j"],fetchPolicy:"cache-and-network",variables:function(){if("search"===this.$route.params.type){this.contentFilter&&this.contentFilter.type&&(this.currentFilter=this.contentFilter.type);var e=this.constructFilter();return e.first=20,e.after=this.after,e}return{filter:{type:this.currentFilter,bookmarked:"bookmark"===this.$route.params.type,scheduled:"schedule"===this.$route.params.type},first:20,after:this.after}},skip:function(){return!["COURSE","LESSON","ACTIVITY"].includes(this.currentFilter)},update:function(e){if(this.allPagesLoaded=e.resources.length<20,this.resources.length){this.done&&(this.done(),this.done=null);var t=this.resources.map(function(e){return e.id}),r=e.resources.filter(function(e){return-1===t.indexOf(e.id)});return this.resources.concat(r)}return this.loaded=!0,e.resources}}}},p=g,m=r("2877"),b=Object(m["a"])(p,s,i,!1,null,null,null);b.options.__file="ResourceFilteredList.vue";t["default"]=b.exports},"5ea6":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",{staticClass:"text-dark resource-carousel-card",attrs:{flat:"",inline:""},nativeOn:{mouseover:function(t){e.hoverState=!0},mouseleave:function(t){e.hoverState=!1}}},[r("q-card-media",{staticClass:"carousel-preview"},[e.value.image?[e.isThumb?r("aws-image",{staticClass:"responsive",attrs:{src:e.value.image,default:"https://images.pexels.com/photos/1068989/pexels-photo-1068989.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260","image-width":e.imageWidth,tag:e.imageTag}}):r("aws-image",{staticClass:"responsive",attrs:{src:e.value.image,default:"https://images.pexels.com/photos/1068989/pexels-photo-1068989.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260"}})]:e._e()],2),e.hoverState?e._e():r("q-card-main",[r("div",{staticClass:"resource-title"},[e._v(e._s(e.value.title))]),e.value.resourceCategory?r("div",{staticClass:"resource-subtitle"},[e._v(e._s(e.value.resourceCategory.name))]):e._e()]),r("transition",{attrs:{name:"expand-resource-info"}},[e.hoverState?r("div",{staticClass:"expanded-resource-info"},[r("div",{staticClass:"resource-title"},[e._v(e._s(e.value.title))]),r("div",{staticClass:"resource-subtitle"},[e._v(e._s(e.value.resourceCategory.name))]),r("div",{staticClass:"q-mt-sm"},[r("p",{staticClass:"resource-intro",domProps:{innerHTML:e._s(e.value.introduction)},on:{click:function(t){return t.preventDefault(),e.parseLink(t)}}})])]):e._e()])],1)},i=[];s._withStripped=!0;var n=r("858b"),o=r("2bb2"),a=r("4eef"),l=r("5e20"),c=r("fcab"),u=r("d1ac"),h={name:"RenderResourceThumbnail",mixins:[n["a"],o["a"]],components:{RenderResourceList:a["a"],RenderResourceChildren:l["a"],awsImage:c["a"],scheduleResource:u["a"]},computed:{isThumb:function(){return this.bigThumbnail||this.thumbnail},imageTag:function(){return this.bigThumbnail?"bigthumb":this.thumbnail?"thumb":void 0},imageWidth:function(){return this.bigThumbnail?1e3:this.thumbnail?300:void 0}},methods:{sendMessage:function(e){console.log("Sendmessage "+e+" cicked")}},data:function(){return{schedulerOpened:!1,hoverState:!1}},props:{value:Object,enableLink:Boolean,compact:Boolean,hideActions:Boolean,thumbnail:Boolean,bigThumbnail:Boolean}},d=h,f=r("2877"),g=Object(f["a"])(d,s,i,!1,null,null,null);g.options.__file="renderResourceThumbnail.vue";t["a"]=g.exports},a709:function(e,t,r){"use strict";var s=r("c235"),i=r.n(s);i.a},c235:function(e,t,r){},f6ed:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var s=r("3156"),i=r.n(s),n=r("2f62"),o=r("b0d5"),a=r("2743"),l=[{label:"Playlists",value:"COURSE"},{label:"Modules",value:"LESSON"},{label:"Activities",value:"ACTIVITY",default:!0}],c={mixins:[a["a"]],created:function(){this.$store.dispatch("app/setFilterOptions",l)},data:function(){return{bookmarked:!1,featured:!1,scheduled:!1,filterModal:!1,modalFilter:null,categories:[]}},computed:i()({currentFilterType:function(){var e=this;if(this.currentFilter){var t=l.filter(function(t){return t.value===e.currentFilter});return t.length?t[0].label:void 0}},hasFilter:function(){return!this.bookmarked&&(this.contentFilter.searchString||this.enableStatus&&this.contentFilter.status||this.contentFilter.resourceCategory||this.contentFilter.resourceCategories&&this.contentFilter.resourceCategories.length||this.contentFilter.categories&&this.contentFilter.categories.length||this.contentFilter.youthOutcomes&&this.contentFilter.youthOutcomes.length||this.contentFilter.contentStandards&&this.contentFilter.contentStandards.length||this.contentFilter.ageAbove||this.contentFilter.ageBelow&&this.contentFilter.ageBelow<20||this.contentFilter.gradeAbove||this.contentFilter.gradeBelow&&this.contentFilter.gradeBelow<12||this.contentFilter.durations&&this.contentFilter.durations.length||this.contentFilter.publishers&&this.contentFilter.publishers.length||this.contentFilter.ratingAbove||this.contentFilter.ratingBelow&&this.contentFilter.ratingBelow<5)}},Object(n["c"])("app",["currentFilter","searchString","contentFilter"])),methods:{openFilter:function(){this.modalFilter=Object(o["a"])({},this.contentFilter),this.filterModal=!0},resetFlags:function(){this.after=null,this.categories=[],this.featured=this.bookmarked=this.scheduled=!1},toggleFeatured:function(){this.after=null,this.categories=[],this.bookmarked=!1,this.scheduled=!1,this.featured=!this.featured},toggleBookmarked:function(){this.after=null,this.categories=[],this.featured=!1,this.scheduled=!1,this.bookmarked=!this.bookmarked},toggleScheduled:function(){this.after=null,this.categories=[],this.featured=!1,this.scheduled=!this.scheduled,this.bookmarked=!1},applyFilter:function(){this.resetFlags(),this.$store.dispatch("app/setContentFilter",this.modalFilter)},clearFilter:function(){this.modalFilter={searchString:null,categories:[],ageAbove:null,ageBelow:null,gradeAbove:null,gradeBelow:null,durations:[],subjects:[],publishers:[],ratingAbove:null,ratingBelow:null,type:null,resourceCategory:null,youthOutcomes:[],contentStandards:[],status:null}},constructFilter:function(){var e={filter:{AND:[{type:this.currentFilter}]}};return this.after&&(e.after=this.after),this.contentFilter.status&&this.enableStatus&&(e.filter.status=this.contentFilter.status),this.enableStatus||delete e.filter.status,this.featured?(e.filter.featured=!0,e):this.bookmarked?(e.filter.bookmarked=!0,e):(this.scheduled&&"ACTIVITY"===this.currentFilter&&(e.filter.scheduled=!0),this.contentFilter.searchString&&e.filter.AND.push({OR:[{title_contains:this.contentFilter.searchString},{introduction_contains:this.contentFilter.searchString}]}),this.hasFilter&&(this.contentFilter.categories&&this.contentFilter.categories.length&&e.filter.AND.push({categories_some:{id_in:this.contentFilter.categories}}),this.contentFilter.resourceCategory&&e.filter.AND.push({resourceCategory:{id:this.contentFilter.resourceCategory}}),this.contentFilter.resourceCategories&&this.contentFilter.resourceCategories.length&&e.filter.AND.push({resourceCategory:{id_in:this.contentFilter.resourceCategories}}),this.contentFilter.publishers&&this.contentFilter.publishers.length&&e.filter.AND.push({organization:{id_in:this.contentFilter.publishers}}),this.contentFilter.durations&&this.contentFilter.durations.length&&e.filter.AND.push({OR:this.contentFilter.durations.map(function(e){return JSON.parse(e)})}),void 0!==this.contentFilter.gradeAbove&&null!==this.contentFilter.gradeAbove&&e.filter.AND.push({gradeFrom_lte:this.contentFilter.gradeAbove}),void 0!==this.contentFilter.gradeBelow&&null!==this.contentFilter.gradeBelow&&this.contentFilter.gradeBelow<12&&e.filter.AND.push({gradeTo_gte:this.contentFilter.gradeBelow}),this.contentFilter.ratingAbove&&e.filter.AND.push({rating_gte:this.contentFilter.ratingAbove}),this.contentFilter.ratingBelow&&this.contentFilter.ratingBelow<5&&e.filter.AND.push({rating_lte:this.contentFilter.ratingBelow})),e)}}}},f760:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.resources.length?r("div",{staticClass:"row gutter-sm grid-container"},e._l(e.resources,function(t){return r("div",{key:t.id,staticClass:"resource-grid-tile"},[r("render-resource-thumbnail",{staticClass:"q-ml-xs q-mr-xs cursor-pointer compact",attrs:{value:t,"enable-link":"",compact:!0,thumbnail:""},nativeOn:{click:function(r){e.loadDetail(r,"/curricula/"+t.id,!1,t)}}})],1)})):e._e()},i=[];s._withStripped=!0;var n=r("5ea6"),o=r("858b"),a=r("2bb2"),l=r("0a1f"),c={name:"ResourceGrid",mixins:[o["a"],a["a"],l["a"]],components:{RenderResourceThumbnail:n["a"]},props:{resources:{default:[],required:!0}},data:function(){return{}}},u=c,h=(r("a709"),r("2877")),d=Object(h["a"])(u,s,i,!1,null,null,null);d.options.__file="ResourceGrid.vue";t["a"]=d.exports}}]);