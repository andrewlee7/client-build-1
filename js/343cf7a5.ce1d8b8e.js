(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["343cf7a5"],{"0374":function(e,n,a){"use strict";a.d(n,"a",function(){return k}),a.d(n,"i",function(){return I}),a.d(n,"s",function(){return C}),a.d(n,"m",function(){return E}),a.d(n,"j",function(){return z}),a.d(n,"n",function(){return _}),a.d(n,"t",function(){return N}),a.d(n,"k",function(){return O}),a.d(n,"h",function(){return D}),a.d(n,"e",function(){return B}),a.d(n,"r",function(){return x}),a.d(n,"q",function(){return F}),a.d(n,"p",function(){return j}),a.d(n,"o",function(){return R}),a.d(n,"d",function(){return W}),a.d(n,"c",function(){return V}),a.d(n,"g",function(){return L}),a.d(n,"f",function(){return H}),a.d(n,"l",function(){return K}),a.d(n,"b",function(){return Y});var t=a("5640"),r=a.n(t),s=a("9530"),i=a.n(s);function o(){var e=r()(["\n  query CheckUserStatus($id:ID!) {\n    userStatus( where: {id: $id} ) {\n      id\n      userStatus\n    }\n  }\n"]);return o=function(){return e},e}function u(){var e=r()(["\n  mutation ResendTempPwdMutation($id: ID!){\n    resetUserTempPwd(where: {id : $id}) {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function l(){var e=r()(["\n  mutation DisableUserMutation($id: ID!){\n    disableUser(where: {id: $id}) {\n      id\n      disabled\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=r()(["\n  mutation EnableUserMutation($id: ID!){\n    enableUser(where: {id: $id}) {\n      id\n      disabled\n    }\n  }\n"]);return c=function(){return e},e}function f(){var e=r()(["\n  mutation CreateUserAndAvatarMutation($name: String!, $email: String!, $timezone: String!, $avatarId: ID!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $username: String!, $organization: OrganizationUpdateOneWithoutUsersInput, $state: String) {\n    createUser(\n      data: {\n        name: $name\n        username: $username\n        email: $email\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        avatar: {\n          connect: { id: $avatarId }\n        }\n        organization: $organization\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function d(){var e=r()(["\n  mutation CreateUserMutation($name: String!, $email: String!, $timezone: String!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $username: String!, $organization: OrganizationUpdateOneWithoutUsersInput, $state: String){\n    createUser(\n      data: {\n        name: $name\n        username: $username\n        email: $email\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        organization: $organization\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function m(){var e=r()(["\n  mutation UpdateProfileMutation($name: String!, $timezone: String!, $avatarId: ID!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $state: String) {\n    updateProfile(\n      data: {\n        name: $name\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        avatar: {\n          connect: { id: $avatarId }\n        }\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function h(){var e=r()(["\n  mutation UpdateProfileMutation($name: String!, $timezone: String!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $state: String) {\n    updateProfile(\n      data: {\n        name: $name\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function p(){var e=r()(["\n  mutation updateUserMutation($name: String!, $timezone: String!, $id: ID!, $avatarId: ID!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $organization: OrganizationUpdateOneWithoutUsersInput, $state: String) {\n    updateUser(\n      where: {id: $id}\n      data: {\n        name: $name\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        avatar: {\n          connect: { id: $avatarId }\n        }\n        organization: $organization\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function v(){var e=r()(["\n  mutation updateUserMutation($name: String!, $timezone: String!, $id: ID!, $isAdmin: Boolean, $isTeacher: Boolean, $isStudent: Boolean, $isParent: Boolean, $organization: OrganizationUpdateOneWithoutUsersInput, $state: String) {\n    updateUser(\n      where: {id: $id}\n      data: {\n        name: $name\n        timezone: $timezone\n        isAdmin: $isAdmin\n        isTeacher: $isTeacher\n        isStudent: $isStudent\n        isParent: $isParent\n        organization: $organization\n        state: $state\n      }\n    ){\n      ...UserFragment\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function b(){var e=r()(["\n  mutation deleteUserMutation($id: ID!) {\n    deleteUser(where: {id: $id }) {\n      id\n    }\n  }\n"]);return b=function(){return e},e}function $(){var e=r()(["\n  query me {\n    me {\n      id\n      sub\n      name\n      email\n      timezone\n      disabled\n      avatar {\n        id\n        url\n        secret\n      }\n      organization {\n        id\n        name\n      }\n      isAdmin\n      isTeacher\n      isStudent\n      isParent\n      isPublisher\n      username\n    }\n  }\n"]);return $=function(){return e},e}function g(){var e=r()(["\n  query ProfileQuery {\n    user: profile {\n      ...UserFragment\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function A(){var e=r()(["\n  query userQuery($id: ID!) {\n    user( where: {id: $id} ) {\n      ...UserFragment\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function M(){var e=r()(["\n  subscription UsersSubscription {\n    userSubscription {\n      mutation\n      node {\n        id\n        sub\n        name\n        email\n        avatar {\n          id\n          url\n          secret\n        }\n        createdAt\n        updatedAt\n        isAdmin\n        isTeacher\n        isParent\n        isStudent\n        disabled\n      }\n      previousValues {\n        id\n      }\n    }\n  }\n"]);return M=function(){return e},e}function T(){var e=r()(["\n  query TeachersQuery($first: Int, $after: String) {\n    teachers(orderBy: name_ASC, first: $first, after: $after) {\n      ...UserFragment\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function w(){var e=r()(["\n  query OrgUsersQuery($first: Int, $after: String) {\n    orgUsers(orderBy: name_ASC, first: $first, after: $after) {\n      ...UserFragment\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function y(){var e=r()(["\n  query SignupEnabled {\n    signupEnabled {\n      isEnabled\n      message\n    }\n  }\n"]);return y=function(){return e},e}function G(){var e=r()(["\n  query AllUsersQuery($first: Int, $skip: Int, $where: UserWhereInput) {\n    users(orderBy: name_ASC, first: $first, skip: $skip, where: $where) {\n      id\n      name\n      organization {\n        id\n        name\n      }\n    }\n  }\n"]);return G=function(){return e},e}function P(){var e=r()(["\n  query NumUsersQuery($where: UserWhereInput) {\n    numUsers(where: $where)\n  }\n"]);return P=function(){return e},e}function S(){var e=r()(["\n  query AllUsersQuery($first: Int, $skip: Int, $where: UserWhereInput) {\n    users(orderBy: name_ASC, first: $first, skip: $skip, where: $where) {\n      ...UserFragment\n      awsStatus\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function U(){var e=r()(["\n  fragment UserFragment on User {\n    id\n    name\n    email\n    avatar {\n      id\n      url\n      secret\n    }\n    createdAt\n    updatedAt\n    isAdmin\n    isTeacher\n    isParent\n    isStudent\n    disabled\n    username\n    timezone\n    state\n    organization {\n      id\n      name\n    }\n  }\n"]);return U=function(){return e},e}var q=i()(U()),k=i()(S(),q),I=i()(P()),C=i()(G()),E=i()(y()),z=i()(w(),q),_=i()(T(),q),N=(i()(M()),i()(A(),q)),O=i()(g(),q),D=i()($()),B=i()(b()),x=i()(v(),q),F=i()(p(),q),j=i()(h(),q),R=i()(m(),q),W=i()(d(),q),V=i()(f(),q),L=i()(c()),H=i()(l()),K=i()(u()),Y=i()(o())},"0aed":function(e,n,a){"use strict";(function(e){a.d(n,"a",function(){return u});var t=a("9ab4"),r="Invariant Violation",s=Object.setPrototypeOf,i=void 0===s?function(e,n){return e.__proto__=n,e}:s,o=function(e){function n(a){void 0===a&&(a=r);var t=e.call(this,"number"===typeof a?r+": "+a+" (see https://github.com/apollographql/invariant-packages)":a)||this;return t.framesToPop=1,t.name=r,i(t,n.prototype),t}return Object(t["c"])(n,e),n}(Error);function u(e,n){if(!e)throw new o(n)}(function(e){function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return console.warn.apply(console,e)}function a(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return console.error.apply(console,e)}e.warn=n,e.error=a})(u||(u={}))}).call(this,a("4362"))},"0e5c":function(e,n,a){"use strict";var t=a("13e5"),r=a.n(t);r.a},"13e5":function(e,n,a){},"31f3":function(e,n,a){"use strict";a.d(n,"a",function(){return t});var t={data:function(){return{states:[{label:"Alabama",value:"AL"},{label:"Alaska",value:"AK"},{label:"American Samoa",value:"AS"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"District Of Columbia",value:"DC"},{label:"Federated States Of Micronesia",value:"FM"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Guam",value:"GU"},{label:"Hawaii",value:"HI"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Marshall Islands",value:"MH"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Northern Mariana Islands",value:"MP"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Palau",value:"PW"},{label:"Pennsylvania",value:"PA"},{label:"Puerto Rico",value:"PR"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virgin Islands",value:"VI"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"}]}}}},"79f89":function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("q-page",[a("scroll",[a("div",{staticClass:"q-pa-lg"},[e.found?[e.user.disabled?[a("div",{staticClass:"q-title text-center q-pb-lg"},[e._v("User is Disabled")])]:e._e(),a("q-field",{staticClass:"q-mb-md",attrs:{icon:"person",label:"Name",helper:"Enter your full name",error:e.$v.user.name.$error,"error-label":"Please enter your full name"}},[a("q-input",{directives:[{name:"delayfocus",rawName:"v-delayfocus"}],ref:"name",attrs:{type:"text"},on:{blur:e.$v.user.name.$touch},model:{value:e.user.name,callback:function(n){e.$set(e.user,"name","string"===typeof n?n.trim():n)},expression:"user.name"}})],1),a("q-field",{staticClass:"q-mb-md",attrs:{icon:"lock",label:"Username",helper:"Enter the username",error:e.$v.user.username.$error,"error-label":"Enter a username"}},[a("q-input",{attrs:{type:"text",disable:!e.isNewUser},on:{blur:e.$v.user.username.$touch},model:{value:e.user.username,callback:function(n){e.$set(e.user,"username","string"===typeof n?n.trim():n)},expression:"user.username"}})],1),a("q-field",{ref:"emailWrapper",staticClass:"q-mb-md",attrs:{icon:"mail",label:"Email",helper:"The email used to create this account",error:this.$v.user.email.$error||this.emailError,"error-label":e.emailErrorText}},[a("q-input",{attrs:{type:"email",disable:!e.isNewUser},on:{blur:e.checkEmailError,keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.save(n):null}},model:{value:e.user.email,callback:function(n){e.$set(e.user,"email","string"===typeof n?n.trim():n)},expression:"user.email"}})],1),e.isAdmin?a("q-field",{staticClass:"q-mb-md",attrs:{icon:"fas fa-building",label:"Organization",helper:"Organization"}},[a("q-select",{attrs:{options:e.organizations,disable:e.isProfilePage},model:{value:e.user.orgId,callback:function(n){e.$set(e.user,"orgId",n)},expression:"user.orgId"}})],1):e._e(),a("q-field",{staticClass:"q-mb-md",attrs:{label:"State",icon:"far fa-compass",help:"Your state"}},[a("q-select",{attrs:{"float-label":"State",options:e.states},model:{value:e.user.state,callback:function(n){e.$set(e.user,"state",n)},expression:"user.state"}})],1),a("q-field",{staticClass:"q-mb-md",attrs:{icon:"access_time",label:"Time Zone",helper:"Your local timezone",error:e.$v.user.timezone.$error,"error-label":"Please select your Time Zone"}},[a("q-select",{attrs:{options:e.timezones},on:{blur:e.$v.user.timezone.$touch},model:{value:e.user.timezone,callback:function(n){e.$set(e.user,"timezone",n)},expression:"user.timezone"}})],1),e.isAdmin&&(e.userId||e.isNewUser)?a("q-field",{staticClass:"q-mb-md",attrs:{icon:"verified_user",label:"Personas",helper:"Personas available to this user",error:e.$v.user.timezone.$error,"error-label":"Please select your Time Zone"}},[a("q-option-group",{attrs:{type:"toggle",options:e.roleOptions},model:{value:e.user.roles,callback:function(n){e.$set(e.user,"roles",n)},expression:"user.roles"}})],1):e._e(),a("aws-upload",{staticClass:"q-mb-md",attrs:{label:"Avatar",icon:"add_a_photo",helper:"The image that will be used as your avatar","asset-title":e.user.name,asset:e.user.avatar},model:{value:e.avatar,callback:function(n){e.avatar=n},expression:"avatar"}}),e.isAdmin?a("div",{staticClass:"q-mt-lg"},[a("span",{staticClass:"q-subheading"},[e._v("AWS Status: ")]),a("span",[e._v(e._s(e.awsStatus))])]):e._e()]:a("notFound",{attrs:{type:"User"}})],2)]),a("q-modal",{model:{value:e.changePasswordModal,callback:function(n){e.changePasswordModal=n},expression:"changePasswordModal"}},[a("change-password",{attrs:{username:e.user.username},on:{close:function(n){e.changePasswordModal=!1}}})],1)],1)},r=[];t._withStripped=!0;a("96cf");var s=a("c973"),i=a.n(s),o=(a("a481"),a("6762"),a("2fdb"),a("3156")),u=a.n(o),l=(a("7f7f"),a("0374")),c=a("398a"),f=a("f1c6"),d=a("b5ae"),m=a("2743"),h=a("c81d"),p=a("3280"),v=a("5012"),b=a("2f62"),$=a("e8b8"),g=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("q-modal-layout",{staticClass:"change-password",attrs:{view:"hHh lpR fFf",container:""}},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("Change password")]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card",{attrs:{flat:""}},[a("q-card-main",[e._v("\n      "+e._s(e.username)+"\n      "),a("q-field",{attrs:{error:e.$v.user.oldPassword.$error,"error-label":"Required",dark:""}},[a("q-input",{attrs:{"float-label":"Password",type:"password",dark:""},on:{blur:e.$v.user.oldPassword.$touch},model:{value:e.user.oldPassword,callback:function(n){e.$set(e.user,"oldPassword","string"===typeof n?n.trim():n)},expression:"user.oldPassword"}})],1),a("q-field",{attrs:{error:e.$v.user.password.$error,"error-label":"Password must be 8 characters or more",dark:""}},[a("q-input",{attrs:{"float-label":"Password",type:"password",dark:""},on:{blur:e.$v.user.password.$touch},model:{value:e.user.password,callback:function(n){e.$set(e.user,"password","string"===typeof n?n.trim():n)},expression:"user.password"}})],1),a("q-field",{attrs:{error:e.$v.user.confirmPassword.$error,"error-label":"Password and Password Confirmation must match",dark:""}},[a("q-input",{attrs:{"float-label":"Confirm Password",type:"password",dark:""},on:{blur:e.$v.user.confirmPassword.$touch},model:{value:e.user.confirmPassword,callback:function(n){e.$set(e.user,"confirmPassword","string"===typeof n?n.trim():n)},expression:"user.confirmPassword"}})],1)],1)],1),a("q-btn",{staticClass:"q-pl-lg q-pr-lg q-ma-lg",attrs:{label:"Change password",color:"primary",unelevated:"","no-caps":""},on:{click:e.changePassword}})],1)},A=[];g._withStripped=!0;var M=a("00ef"),T=a("d67a"),w={name:"changePassword",props:["username"],data:function(){return{saving:!1,user:{oldPassword:null,password:null,confirmPassword:null}}},validations:function(){return{user:{oldPassword:{required:d["required"]},password:{required:d["required"],minLength:Object(d["minLength"])(8)},confirmPassword:{sameAsPassword:Object(d["sameAs"])("password")}}}},methods:{changePassword:function(){this.$v.user.$touch(),this.$v.user.error||this.save(this.user)},save:function(e){var n=this;this.saving||(this.saving=!0,M["a"].changePassword(T["a"].state.user,e.oldPassword,e.password).then(function(e){n.$q.notify({message:"Password successfully changed.",type:"positive"}),n.$emit("close")}).catch(function(e){console.log("Error",e),n.saving=!1,n.$q.dialog({title:"Error",message:e.message})}))}}},y=w,G=(a("0e5c"),a("2877")),P=Object(G["a"])(y,g,A,!1,null,null,null);P.options.__file="ChangePassword.vue";var S=P.exports,U=a("31f3"),q={name:"editUser",mixins:[m["a"],h["a"],p["a"],U["a"]],components:{notFound:$["a"],awsUpload:v["a"],ChangePassword:S},data:function(){return{user:{name:"",email:"",timezone:"",roles:[],username:""},userId:this.$route.params.id,mutation:l["r"],emailError:!1,found:!0,avatar:[],saving:!0,organizations:[],changePasswordModal:!1,userStatus:null}},validations:function(){var e={user:{email:{required:d["required"],email:d["email"]},name:{required:d["required"]},timezone:{required:d["required"]},roles:{required:d["required"]},username:{required:d["required"]}}};return e},watch:{canNotSave:function(){this.updateActions()}},created:function(){this.updateActions()},mounted:function(){this.isNewUser&&(this.saving=!1)},computed:{awsStatus:function(){return this.userStatus&&this.userStatus.userStatus},currentUserName:function(){return T["a"].state.user.username},isNewUser:function(){return"new_user"===this.$route.name},emailErrorText:function(){return this.emailError?"Email address is in use by another profile":"Please type a valid email"},updateLabel:function(){return this.isNewUser?"Create":"Update"},canNotSave:function(){return this.$v.$invalid},isProfilePage:function(){return!this.userId&&!this.isNewUser}},methods:u()({resendPassword:function(){var e=this;this.$apollo.mutate({mutation:l["l"],variables:{id:this.user.id}}).then(function(n){e.$q.notify({message:"User".concat(e.user.name," has been sent a new temporary password"),type:"positive"})}).catch(function(n){var a=n.message;console.log(a),a.includes("status is not FORCE_CHANGE_PASSWORD")&&e.$q.notify({message:"User".concat(e.user.name," has already logged in with a temporary password.")})})},updateActions:function(){var e;this.userId?e=this.notFound?[]:[{icon:"fa fa-check",handler:this.save,disabled:this.canNotSave},{icon:"fa fa-ellipsis-v",handler:this.moreActions,disabled:!1}]:(e=this.notFound?[]:[{icon:"fa fa-check",handler:this.save,disabled:this.canNotSave}],this.user.username===this.currentUserName&&e.push({label:"Change Password",icon:"fas fa-key",handler:this.openChangePassword})),this.headerActions(e)},moreActions:function(){this.$q.actionSheet({actions:this.actions()}).then(function(e){}).catch(function(){})},actions:function(){var e=[];return this.isNewUser||(this.user.username===this.currentUserName&&e.push({label:"Change Password",icon:"fas fa-key",handler:this.openChangePassword}),e.push({label:"Delete",icon:"fa fa-trash",handler:this.deleteUser}),this.isAdmin&&(e.push({label:"Impersonate",icon:"person",handler:this.impersonate}),this.user.disabled?e.push({label:"Enable",icon:"redo",handler:this.enableUser}):e.push({label:"Disable",icon:"undo",handler:this.disableUser}),this.userStatus&&"FORCE_CHANGE_PASSWORD"===this.userStatus.userStatus&&e.push({label:"Resend Password",icon:"reply",handler:this.resendPassword}))),e},openChangePassword:function(){this.changePasswordModal=!0},impersonate:function(){var e=this;this.$q.dialog({title:"Impersonate User",message:"Are you sure you want to log in as ".concat(this.user.name,"? This will log you out of your current session."),ok:"Impersonate",cancel:"Cancel"}).then(function(n){e.$store.commit("app/setImpersonateId",e.user.id),e.$q.notify({message:"You are now impersonating ".concat(e.user.name),type:"positive"})}).catch(function(){})},disableUser:function(){var e=this;this.$apollo.mutate({mutation:l["f"],variables:{id:this.user.id}}).then(function(n){e.$q.notify({message:"User".concat(e.user.name," was disabled"),type:"negative"})}).catch(function(){})},enableUser:function(){var e=this;this.$apollo.mutate({mutation:l["g"],variables:{id:this.user.id}}).then(function(n){e.$q.notify({message:"User ".concat(e.user.name," was enabled"),type:"positive"})}).catch(function(){})},deleteUser:function(){var e=this;this.$q.actionSheet({title:"Delete User ".concat(this.user.name,"?"),actions:[{label:"Delete",color:"primary",icon:"fas fa-trash",handler:function(){e.$apollo.mutate({mutation:l["e"],variables:{id:e.user.id}}).then(function(n){e.$q.notify({message:"User ".concat(e.user.name," was sucessfully deleted"),type:"negative"}),e.$router.replace("/users")})}}]}).then(function(e){}).catch(function(){})},checkEmailError:function(){this.emailError=!1,this.$v.user.email.$touch()},setUserRoles:function(){this.user.isAdmin=-1!==this.user.roles.indexOf("ADMIN"),this.user.isTeacher=-1!==this.user.roles.indexOf("TEACHER"),this.user.isStudent=-1!==this.user.roles.indexOf("STUDENT"),this.user.isParent=-1!==this.user.roles.indexOf("PARENT")},save:function(){var e=i()(regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.saving=!0,this.userId||this.mutation===l["o"]||(this.mutation=l["p"]),this.isNewUser&&this.mutation!==l["c"]&&(this.mutation=l["d"]),!this.filesAvailable()){e.next=8;break}return this.mutation=this.isNewUser?l["c"]:l["q"],this.userId||(this.mutation=l["o"]),this.triggerUploads(),e.abrupt("return");case 8:this.user.username=this.user.username.toLowerCase(),this.user.email=this.user.email.toLowerCase(),this.user.avatarId=this.avatar.pop(),this.setUserRoles(),this.user.orgId&&(this.user.organization={connect:{id:this.user.orgId}}),this.$apollo.mutate({mutation:this.mutation,variables:this.user}).then(function(e){var a=n.isNewUser?"created":"updated";n.$q.notify({message:"User was sucessfully ".concat(a),type:"positive"}),n.isNewUser&&n.$router.replace("/users/"+e.data.createUser.id)}).catch(function(e){var a=e.message;console.log(a),"GraphQL error: A unique constraint would be violated on User. Details: Field name = email"===a&&(n.emailError=!0)}),this.mutation=l["r"],this.$root.$emit("apollo_loading",!1),this.saving=!1;case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},Object(b["b"])({headerActions:"app/setHeaderActions"})),apollo:{user:{query:function(){return this.userId?l["t"]:l["k"]},variables:function(){return{id:this.userId}},skip:function(){return this.isNewUser},update:function(e){e.user.id||(this.found=!1);var n=Object(f["a"])(l["t"],e).user;return n.roles=[],e.user.isAdmin&&n.roles.push("ADMIN"),e.user.isTeacher&&n.roles.push("TEACHER"),e.user.isStudent&&n.roles.push("STUDENT"),e.user.isParent&&n.roles.push("PARENT"),e.user.organization&&(n.orgId=e.user.organization.id),this.saving=!1,n}},organizations:{query:c["g"],skip:function(){return!this.isAdmin},update:function(e){return e.organizations.map(function(e){return{label:e.name,value:e.id}})}},userStatus:{query:l["b"],variables:function(){return{id:this.$route.params.id}},skip:function(){return!this.isAdmin||!this.$route.params.id}}}},k=q,I=Object(G["a"])(k,t,r,!1,null,null,null);I.options.__file="UserEdit.vue";n["default"]=I.exports},c81d:function(e,n,a){"use strict";a.d(n,"a",function(){return r});a("7f7f");var t=[{offset:"GMT-12:00",name:"Etc/GMT-12"},{offset:"GMT-11:00",name:"Etc/GMT-11"},{offset:"GMT-11:00",name:"Pacific/Midway"},{offset:"GMT-10:00",name:"America/Adak"},{offset:"GMT-09:00",name:"America/Anchorage"},{offset:"GMT-09:00",name:"Pacific/Gambier"},{offset:"GMT-08:00",name:"America/Dawson_Creek"},{offset:"GMT-08:00",name:"America/Ensenada"},{offset:"GMT-08:00",name:"America/Los_Angeles"},{offset:"GMT-07:00",name:"America/Chihuahua"},{offset:"GMT-07:00",name:"America/Denver"},{offset:"GMT-06:00",name:"America/Belize"},{offset:"GMT-06:00",name:"America/Cancun"},{offset:"GMT-06:00",name:"America/Chicago"},{offset:"GMT-06:00",name:"Chile/EasterIsland"},{offset:"GMT-05:00",name:"America/Bogota"},{offset:"GMT-05:00",name:"America/Havana"},{offset:"GMT-05:00",name:"America/New_York"},{offset:"GMT-04:30",name:"America/Caracas"},{offset:"GMT-04:00",name:"America/Campo_Grande"},{offset:"GMT-04:00",name:"America/Glace_Bay"},{offset:"GMT-04:00",name:"America/Goose_Bay"},{offset:"GMT-04:00",name:"America/Santiago"},{offset:"GMT-04:00",name:"America/La_Paz"},{offset:"GMT-03:00",name:"America/Argentina/Buenos_Aires"},{offset:"GMT-03:00",name:"America/Montevideo"},{offset:"GMT-03:00",name:"America/Araguaina"},{offset:"GMT-03:00",name:"America/Godthab"},{offset:"GMT-03:00",name:"America/Miquelon"},{offset:"GMT-03:00",name:"America/Sao_Paulo"},{offset:"GMT-03:30",name:"America/St_Johns"},{offset:"GMT-02:00",name:"America/Noronha"},{offset:"GMT-01:00",name:"Atlantic/Cape_Verde"},{offset:"GMT",name:"Europe/Belfast"},{offset:"GMT",name:"Africa/Abidjan"},{offset:"GMT",name:"Europe/Dublin"},{offset:"GMT",name:"Europe/Lisbon"},{offset:"GMT",name:"Europe/London"},{offset:"UTC",name:"UTC"},{offset:"GMT+01:00",name:"Africa/Algiers"},{offset:"GMT+01:00",name:"Africa/Windhoek"},{offset:"GMT+01:00",name:"Atlantic/Azores"},{offset:"GMT+01:00",name:"Atlantic/Stanley"},{offset:"GMT+01:00",name:"Europe/Amsterdam"},{offset:"GMT+01:00",name:"Europe/Belgrade"},{offset:"GMT+01:00",name:"Europe/Brussels"},{offset:"GMT+02:00",name:"Africa/Cairo"},{offset:"GMT+02:00",name:"Africa/Blantyre"},{offset:"GMT+02:00",name:"Asia/Beirut"},{offset:"GMT+02:00",name:"Asia/Damascus"},{offset:"GMT+02:00",name:"Asia/Gaza"},{offset:"GMT+02:00",name:"Asia/Jerusalem"},{offset:"GMT+03:00",name:"Africa/Addis_Ababa"},{offset:"GMT+03:00",name:"Asia/Riyadh89"},{offset:"GMT+03:00",name:"Europe/Minsk"},{offset:"GMT+03:30",name:"Asia/Tehran"},{offset:"GMT+04:00",name:"Asia/Dubai"},{offset:"GMT+04:00",name:"Asia/Yerevan"},{offset:"GMT+04:00",name:"Europe/Moscow"},{offset:"GMT+04:30",name:"Asia/Kabul"},{offset:"GMT+05:00",name:"Asia/Tashkent"},{offset:"GMT+05:30",name:"Asia/Kolkata"},{offset:"GMT+05:45",name:"Asia/Katmandu"},{offset:"GMT+06:00",name:"Asia/Dhaka"},{offset:"GMT+06:00",name:"Asia/Yekaterinburg"},{offset:"GMT+06:30",name:"Asia/Rangoon"},{offset:"GMT+07:00",name:"Asia/Bangkok"},{offset:"GMT+07:00",name:"Asia/Novosibirsk"},{offset:"GMT+08:00",name:"Etc/GMT+8"},{offset:"GMT+08:00",name:"Asia/Hong_Kong"},{offset:"GMT+08:00",name:"Asia/Krasnoyarsk"},{offset:"GMT+08:00",name:"Australia/Perth"},{offset:"GMT+08:45",name:"Australia/Eucla"},{offset:"GMT+09:00",name:"Asia/Irkutsk"},{offset:"GMT+09:00",name:"Asia/Seoul"},{offset:"GMT+09:00",name:"Asia/Tokyo"},{offset:"GMT+09:30",name:"Australia/Adelaide"},{offset:"GMT+09:30",name:"Australia/Darwin"},{offset:"GMT+09:30",name:"Pacific/Marquesas"},{offset:"GMT+10:00",name:"Etc/GMT+10"},{offset:"GMT+10:00",name:"Australia/Brisbane"},{offset:"GMT+10:00",name:"Australia/Hobart"},{offset:"GMT+10:00",name:"Asia/Yakutsk"},{offset:"GMT+10:30",name:"Australia/Lord_Howe"},{offset:"GMT+11:00",name:"Asia/Vladivostok"},{offset:"GMT+11:30",name:"Pacific/Norfolk"},{offset:"GMT+12:00",name:"Etc/GMT+12"},{offset:"GMT+12:00",name:"Asia/Anadyr"},{offset:"GMT+12:00",name:"Asia/Magadan"},{offset:"GMT+12:00",name:"Pacific/Auckland"},{offset:"GMT+12:45",name:"Pacific/Chatham"},{offset:"GMT+13:00",name:"Pacific/Tongatapu"},{offset:"GMT+14:00",name:"Pacific/Kiritimati"}],r={data:function(){return{timezones:t.map(function(e){return{label:e.name,value:e.name}})}}}},e8b8:function(e,n,a){"use strict";var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("transition",{attrs:{"enter-active-class":"animated fadeIn",appear:""}},[a("q-alert",{staticClass:"q-mb-sm",attrs:{color:"negative",icon:"error",appear:""}},[e._v("\n    "+e._s(e.type)+" not found\n  ")])],1)},r=[];t._withStripped=!0;var s={name:"notFound",props:["type"]},i=s,o=a("2877"),u=Object(o["a"])(i,t,r,!1,null,null,null);u.options.__file="notFound.vue";n["a"]=u.exports},f1c6:function(e,n,a){"use strict";a.d(n,"a",function(){return c});var t=a("4518");a("0aed");function r(e,n,a,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var u=Object(t["m"])(n),l=Object(t["j"])(n),c=Object(t["g"])(l),f=o.resultMapper,d=o.fragmentMatcher||function(){return!0},m={fragmentMap:c,contextValue:r,variableValues:i,resultMapper:f,resolver:e,fragmentMatcher:d};return s(u.selectionSet,a,m)}function s(e,n,a){var r=a.fragmentMap,o=a.contextValue,u=a.variableValues,c={};return e.selections.forEach(function(e){if(!u||Object(t["G"])(e,u))if(Object(t["u"])(e)){var f=i(e,n,a),d=Object(t["F"])(e);void 0!==f&&(void 0===c[d]?c[d]=f:l(c[d],f))}else{var m=void 0;if(Object(t["w"])(e))m=e;else if(m=r[e.name.value],!m)throw new Error("No fragment named "+e.name.value);var h=m.typeCondition.name.value;if(a.fragmentMatcher(n,h,o)){var p=s(m.selectionSet,n,a);l(c,p)}}}),a.resultMapper?a.resultMapper(c,n):c}function i(e,n,a){var r=a.variableValues,i=a.contextValue,u=a.resolver,l=e.name.value,c=Object(t["b"])(e,r),f={isLeaf:!e.selectionSet,resultKey:Object(t["F"])(e),directives:Object(t["i"])(e,r),field:e},d=u(l,n,c,i,f);return e.selectionSet?null==d?d:Array.isArray(d)?o(e,d,a):s(e.selectionSet,d,a):d}function o(e,n,a){return n.map(function(n){return null===n?null:Array.isArray(n)?o(e,n,a):s(e.selectionSet,n,a)})}var u=Object.prototype.hasOwnProperty;function l(e,n){null!==n&&"object"===typeof n&&Object.keys(n).forEach(function(a){var t=n[a];u.call(e,a)?l(e[a],t):e[a]=t})}Object.prototype.hasOwnProperty;function c(e,n,a){void 0===a&&(a={});var t=function(e,n,a,t,r){return n[r.resultKey]};return Array.isArray(n)?n.map(function(n){return r(t,e,n,null,a)}):r(t,e,n,null,a)}function f(e){this.message=e,this.stack=""}f.prototype=Error.prototype}}]);